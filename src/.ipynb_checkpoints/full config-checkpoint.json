{
  "_comment_header": "Vox - Configuração Unificada (OTIMIZADA PARA VELOCIDADE MÁXIMA NA CPU)",
  "_version": "2.4",
  "_last_updated": "2025-10-01",
  "mlflow": {
    "_description": "Configuração para rastreamento de experimentos com MLflow.",
    "tracking_uri": "./mlruns",
    "experiment_name": "YOLO_Training",
    "auto_log": true
  },
  "project": {
    "_description": "Metadados do projeto e dos modelos.",
    "name": "VehicleColorDetection",
    "version": "1.0.0",
    "model_family": "yolo11",
    "variants": ["n", "s"],
    "tasks": ["detect", "classify"]
  },
  "datasets": {
    "_description": "Configuração dos datasets de detecção e classificação.",
    "detection": {
      "name": "detrac_car",
      "path": "data/1/detrac_car.yaml",
      "classes": ["car"],
      "nc": 1
    },
    "classification": {
      "name": "COLOR_FINAL_YOLO",
      "path": "data/2/COLOR_FINAL_YOLO",
      "classes": ["amarelo", "azul", "branco", "cinza_prata", "dourado", "laranja", "marrom", "preto", "verde", "vermelho"],
      "nc": 10
    }
  },
  "training": {
    "_description": "Hiperparâmetros globais para o treinamento dos modelos.",
    "seed": 42,
    "device": "cpu",
    "workers": 32,
    "amp": true,
    "save_period": 5,
    "patience": 10,
    "verbose": true,
    "pretrained": true,
    "optimizer": "auto"
  },
  "stages": {
    "_description": "Configuração para os estágios de treinamento (não afeta o tracking).",
    "detect": {
      "enabled": true,
      "epochs": 25,
      "batch": 128,
      "imgsz": 640
    },
    "classify": {
      "enabled": true,
      "epochs": 30,
      "batch": 256,
      "imgsz": 224
    }
  },
  "tracking": {
    "_description": "CONFIGURAÇÃO PRINCIPAL PARA O SCRIPT track.py - OTIMIZADA PARA VELOCIDADE",
    "tracker": "bytetrack.yaml",
    "classification": {
      "mode": "ai",
      "min_confidence": 0.6
    },
    "inference": {
      "prefer_onnx": true,
      "device": "auto",
      "half_precision": false,
      "onnx_simplify": true,
      "dynamic": false
    },
    "detection": {
      "_comment": "Parâmetros agressivos para velocidade na CPU.",
      "imgsz_cpu": 480,
      "imgsz_gpu": 640,
      "conf_threshold": 0.5,
      "iou_threshold": 0.6,
      "max_det": 30
    },
    "classification_model": {
      "imgsz": 224,
      "batch_size": 18,
      "center_crop_margin": 0.5
    },
    "sampling": {
      "_comment": "Classifica com menos frequência para economizar processamento.",
      "classify_every": 15,
      "update_label_every": 120,
      "area_change_threshold": 0.35,
      "reclassify_on": {
        "new_track": true,
        "area_change": true,
        "periodic_refresh": true
      }
    },
    "performance": {
      "_comment": "frame_stride é o ajuste mais importante para velocidade!",
      "frame_stride": 2,
      "num_threads_cpu": 24,
      "cudnn_benchmark": true
    },
    "visualization": {
      "draw_boxes": true,
      "draw_labels": true,
      "draw_confidence": true,
      "draw_track_id": true,
      "box_thickness": 2,
      "font_scale": 0.5,
      "font_thickness": 1
    },
    "output": {
      "save_video": true,
      "save_json": true,
      "save_csv": true,
      "video_codec": "mp4v",
      "json_indent": 2,
      "csv_encoding": "utf-8"
    }
  },
  "api": {
    "host": "0.0.0.0",
    "port": 8000,
    "timeout": 300,
    "max_video_size_mb": 500
  },
  "logging": {
    "level": "INFO",
    "format": "%(asctime)s - %(levelname)s - %(message)s"
  },
  "environment": {
    "python_version": ">=3.8",
    "ultralytics_version": ">=8.0.0"
  }
}